<div class="animated fadeIn contenedor">
  <div class="col-xl-12 mb-lg-8 mb-sm-4 mb-2">
    <div class="card">
      <div class="card-header">Registrar Obra</div>
      <div class="card-body">
        <div class="formulario-registro-obra">
          <form autocomplete="off" [formGroup]="registrarObraForm">
            

            <!-- input del nombre -->
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i class="cil-building"></i
                ></span>
              </div>
              <input
                type="text"
                class="form-control"
                placeholder="Nombre de la obra"
                autocomplete="nombre"
                formControlName="nombre_obra"
                required
              />
            </div>

            <!-- input de dirección -->
            <div class="direccion">
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text"
                    ><i class="cil-industry"></i
                  ></span>
                </div>
                <input
                  formControlName="direccion_obra"
                  ngx-google-places-autocomplete
                  [options]="options"
                  #placesRef="ngx-places"
                  (onAddressChange)="handleAddressChange($event)"
                />
              </div>
            </div>
            <!-- input de ciudad -->
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i class="cil-building"></i
                ></span>
              </div>
              <input
                type="text"
                class="form-control"
                placeholder="Ciudad de la obra"
                autocomplete="ciudad"
                formControlName="ciudad_obra"
                required
              />
            </div>

            <div class="mb-4 center">
              <div class="mapa" id="map"></div>
            </div>

            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i class="cil-building"></i
                ></span>
              </div>
              <input
                type="text"
                class="form-control"
                placeholder="Latitud"
                autocomplete="latitud_obra"
                formControlName="latitud"
                required
              />
            </div>

            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i class="cil-building"></i
                ></span>
              </div>
              <input
                type="text"
                class="form-control"
                placeholder="longitud"
                autocomplete="longitud_obra"
                formControlName="longitud"
                required
              />
            </div>

            <div>
              <h2 class="mt-4" align=center>Seleccione un cliente: </h2>
            </div>
            
            <div class="input-group mb-3 matSelect">
              <mat-form-field>
                <mat-label style="color: rgb(134, 134, 134)"
                  >pulse aquí para ver los clientes</mat-label
                >
                <mat-select
                  panelClass="cliente-panel"
                  requiered
                  formControlName="cliente_obra2"
                  name="cliente"
                >
                  <mat-option
                    required
                    style="color: white; background-color: rgb(27, 27, 31)"
                    class="not-empty-select"
                    *ngFor="let clienteLista of clientes"
                    [value]="clienteLista.cliente_id"
                  >
                    {{ clienteLista.cliente_nombre }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>

            <button
              type="button"
              class="btn btn-block btn-success"
              (click)="registrarObra()"
              [disabled]="!registrarObraForm.valid"
            >
              Añadir Obra
            </button>
            <button type="button" class="btn btn-block btn-danger">
              Cancelar
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
